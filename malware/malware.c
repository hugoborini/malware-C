#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <dirent.h>
#include <unistd.h>
#include <sys/stat.h>
#include "libSearch.h"
#include "crypt.h"
#include "malwareLib.h"
#include "help.h"
#include "extractionKey.h"


int main(int argc,char* argv[]){
    //char keyName[3]="key";

    // if (fileExists(keyName)){
    //     printf("key already existe\n");
    // } else{
    //     generateAESKey(keyName);
    //     sendkeys(keyName);
    // }
    // for (int i = 0; i < argc; i++){
    //     printf("%s ", argv[i]);
    // }
    //cryptFolder("test", keyName);
    //decryptFolder("test", keyName);
  int opt;
    char *fichier = NULL;
    char *action = NULL;
    int help = 0;

    while ((opt = getopt(argc, argv, "f:a:h:")) != -1) {
        switch (opt) {
            case 'f':
                fichier = optarg;
                break;
            case 'a':
                action = optarg;
                break;
            case 'h':
                printf("dff");
                help = 1;
                break;

        }
    }
    
    printf("%d \n", help);
    if (help == 1){
        printf("help here");
        return 0;
    }

    if (fichier == NULL || action == NULL) {
        printf(stderr, "Les options -f et -a sont obligatoires.\n");
        exit(EXIT_FAILURE);
    }

    printf("Fichier : %s\n", fichier);
    printf("Action : %s\n", action);

    return 0;
}